<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>What colors is beef?</title>
        <link rel="stylesheet" href="styles.css">
    </head>
    <body class="demo">
        <header>
            <h1>What color is <span class="clr">#beef00</span></h1>
        </header>
        <button id='btn'>Try another</button>
        <form>
            <span class="filter">
                <span>Numbers mean: </span>
                <label for="rad-norm">nothing<input type="radio" id="rad-norm" class="radio" name="norm-leet" checked="checked"></label>
                <label for="rad-leet">letters (leet)<input type="radio" id="rad-leet" class="radio" name="norm-leet"></label>
            </span>
                <label for="norm-letters-only" id="letters-only-label">Show letter-only codes<input type="checkbox" id="norm-letters-only" class="check"></label>
                <label for="norm-short" id="shorthand-label">Include shorthands like <span class="highlight">#dad</span><input type="checkbox" id="norm-short" class="check"></label>
                <label for="leet-h" id="leet-h-label">Count <span class="highlight">#</span> as <span class="highlight">h</span><input type="checkbox" id="leet-h" class="check"></label>
        </form>
        <p class="about">Colors on web are often represented by six-digit codes called <a href="https://en.wikipedia.org/wiki/Web_colors#Hex_triplet" target="_blank">hex triplets</a>. They're made of numerals <span class="highlight">0</span> to <span class="highlight">9</span> and letters <span class="highlight">a</span> to <span class="highlight">f</span>, like this one: <span class="highlight">#3af67e</span>. Sometimes letters in a code accidently combine into a word, and this page is a collection of such colors. Check out what color is <a id="reload" href="file:///Users/Rust/beef/index.html">#beef00</a>!</p>
        <p class="about">You can use shorthands like <span class="highlight">#abd</span> instead of full codes, when each pair (byte) in a triplet is made of repeating digits, like here: <span class="highlight">#aabbdd</span>.</p>
        <div class="shd"></div>
        <script type="module" src="dictionary.js"></script>
        <script>
            import {allColors, leetColorsWShort, leetColorsStartingHWShort} from 'dictionary.js';

            let regex = /^[a-f]+$/i; //norm
            let regexLeet = /^[abcdefgiostz]+$/i; //leet
            let regexH = /^h{1}[abcdefgiostz]+$/i; //leet starting with h
            let regexNoNum = /^#[a-f]+$/i;
            
            function getRandomColor(min, max) {
                    return Math.floor(Math.random() * (max - min) ) + min;
                }
            
            function showShades (str) {
                let numOfZeros = str.replace(/[^0-9]/g, '').length;
                let arr1 = [];
                let arr2 = [];
                let arr3 = [];
                str = str.replace(/[0-9]/g, '') + 0;
                if (numOfZeros === 1) {
                    for (let i = 0; i < 10; i++) {
                        str = str.replace(/[0-9]$/, i);
                        arr1.push(str);
                    }
                    arr1 = arr1.filter(w => !w.includes('0'));
                    return arr1;
                } 
                else if (numOfZeros === 2) {
                    for (let i = 0; i < 10; i++) {
                        str = str.replace(/[0-9]$/, i);
                        arr1.push(str);
                    }
                    for (let str of arr1) {
                        str = str + 0;
                        for (let i = 0; i < 10; i++) {
                            str = str.replace(/[0-9]$/, i);
                            arr2.push(str);
                        }
                    }
                    arr2 = arr2.filter(w => !w.includes('00'));
                    return arr2;
                }
                else {
                    for (let i = 0; i < 10; i++) {
                        str = str.replace(/[0-9]$/, i);
                        arr1.push(str);
                    }
                    for (let str of arr1) {
                        str = str + 0;
                        for (let i = 0; i < 10; i++) {
                            str = str.replace(/[0-9]$/, i);
                            arr2.push(str);
                        }
                    }
                    for (let str of arr2) {
                    str = str + 0;
                        for (let i = 0; i < 10; i++) {
                            str = str.replace(/[0-9]$/, i);
                            arr3.push(str);
                        }
                    }
                    arr3 = arr3.filter(w => !w.includes('000'));
                    return arr3;
                }
            };
            
            function showSubtitle (str) {
                let ttl = document.createElement('h2');
                ttl.innerHTML = str;
                shd.appendChild(ttl);
            };

            function unLeet (str) {
                return str.replaceAll('1','i').replaceAll('0','o').replaceAll('9','g').replaceAll('5','s').replaceAll('7','t').replaceAll('2','z').replaceAll('#','');
            }
            /*
            let allColors = ['#aba', '#abb', '#ace', '#add', '#aff', '#baa', '#bac', '#bad', '#bed', '#bee', '#caa', '#cab', '#cad', '#cee', '#dab', '#dad', '#dae', '#deb', '#dee', '#def', '#ebb', '#eff', '#faa', '#fab', '#fad', '#fae', '#fed', '#fee','#aba000', '#abac00', '#abaca0', '#abb000', '#abba00', '#abbe00', '#abbed0', '#abcee0', '#abed00', '#acca00', '#accede', '#ace000', '#aced00', '#add000', '#added0', '#aff000', '#baa000', '#baaed0', '#baba00', '#babe00', '#bac000', '#bacca0', '#baccae', '#bad000', '#bade00', '#baff00', '#baffed', '#bead00', '#beaded', '#bed000', '#bedad0', '#bedded', '#bede00', '#bee000', '#beebee', '#beef00', '#beefed', '#caa000', '#caaed0', '#cab000', '#caba00', '#cabbed', '#caca00', '#cad000', '#cade00', '#cadee0', '#caeca0', '#cafe00', '#caff00', '#ceca00', '#cede00', '#ceded0', '#cee000', '#dab000', '#dabba0', '#dabbed', '#dace00', '#dad000', '#dada00', '#dadded', '#dae000', '#daff00', '#daffed', '#dead00', '#deaded', '#deaf00', '#deb000', '#debe00', '#decad0', '#decade', '#decaf0', '#decaff', '#dee000', '#deed00', '#deeded', '#def000', '#deface', '#ebb000', '#ebbed0', '#ecad00', '#ecce00', '#eff000', '#efface', '#effed0', '#faa000', '#fab000', '#facade', '#face00', '#faced0', '#fad000', '#fade00', '#faded0', '#fae000', '#faff00', '#faffed', '#fed000', '#fee000', '#feeb00', '#feed00'];
            let leetColorsWShort = ['#aa5', '#ab0', '#ab5', '#ac7', '#ad0', '#ad5', '#ad2', '#af7', '#a9a', '#a9e', '#a90', '#a95', '#a1a', '#a1d', '#a15', '#a17', '#a55', '#a7e', '#a75', '#a77', '#a20', '#ba9', '#ba5', '#ba7', '#be9', '#be5', '#be7', '#be2', '#b1b', '#b1d', '#b19', '#b10', '#b15', '#b17', '#b12', '#b0a', '#b0b', '#b0d', '#b09', '#b01', '#b00', '#b05', '#b07', '#ca9', '#ca7', '#ca2', '#c1d', '#c19', '#c15', '#c17', '#c0b', '#c0d', '#c09', '#c00', '#c05', '#c07', '#c02', '#da9', '#da5', '#de9', '#de1', '#d1b', '#d1d', '#d1e', '#d1f', '#d19', '#d15', '#d17', '#d0b', '#d0c', '#d0d', '#d0e', '#d0f', '#d09', '#d00', '#d05', '#d07', '#d50', '#d20', '#ea5', '#ea7', '#ec0', '#ed5', '#ef5', '#ef7', '#e99', '#e90', '#e55', '#e57', '#e7a', '#fa9', '#fa5', '#fa7', '#fe9', '#fe5', '#fe7', '#fe2', '#f1b', '#f1d', '#f1e','#abaca5', '#aba5ed', '#aba5e5', '#aba51a', '#aba7ed', '#aba7e5', '#aba715', '#abbe55', '#abb075', '#abcee5', '#abdab5', '#ab1ded', '#ab1de5', '#ab0ded', '#ab0de5', '#ab5175', '#acac1a', '#aca7e5', '#acce55', '#acc17e', '#acc057', '#aced1a', '#ace71c', '#ac1d1c', '#ada9e5', '#ada910', '#add1c7', '#add1e5', '#ad0be5', '#ad0b05', '#ae5ce5', '#affec7', '#aff1ed', '#aff1e5', '#af705a', '#a9a7e5', '#a9a2ed', '#a9e157', '#a99ada', '#a991e5', '#a91575', '#a917a5', '#a909e5', '#a9091c', '#a5c075', '#a5d1c5', '#a51a90', '#a51de5', '#a55a15', '#a55e55', '#a55e75', '#a55157', '#a5512e', '#a55075', '#a55077', '#a7aa7a', '#a7abe9', '#a71915', '#a70c1a', '#a77e57', '#a771c5', '#a21de5', '#a207ed', '#a207e5', '#a2071c', '#baa5e5', '#babac0', '#bab1ed', '#bab1e5', '#bab005', '#bacca5', '#bacc05', '#bada55', '#badd1e', '#bad9ed', '#bad9e5', '#ba9a55', '#ba99ed', '#ba991e', '#ba9917', '#ba91e5', '#ba17ed', '#ba12a5', '#ba12ed', '#ba12e5', '#ba0bab', '#ba5e57', '#ba51c5', '#ba55ed', '#ba55e5', '#ba55e7', '#ba5505', '#ba57ed', '#ba57e5', '#ba5715', '#ba5705', '#ba7a7a', '#ba77a5', '#ba77ed', '#ba2a22'];//shorthands checked leet colors
            let leetColorsStartingHWShort = ['#abdab5', '#ab17a7', '#ab17ed', '#ab00b5', '#adde57', '#add1e5', '#affe75', '#aff175', '#af12e5', '#a9ad1c', '#a99ada', '#a57a7e', '#a21e57', '#eada9e', '#ead5e7', '#ea57e5', '#ebe71c', '#ec71c5', '#ee21e5', '#e157ed', '#e5517e', '#e771e5', '#1ca7ee', '#1da9e5', '#1551e5', '#15701d', '#0a91e5', '#0a57ed', '#0bb1e5', '#0bb175', '#099e75', '#0971ed', '#0971e5', '#0157ed', '#00d1a5', '#00d1e5', '#00d005', '#057a9e', '#057e55', '#0571e5', '#07bed5', '#07d095', '#07f007', '#077e57', '#0771e5', '#aaf', '#ade', '#ad5', '#aed', '#ae5', '#ae7', '#aff', '#af7', '#a99', '#a95', '#a05', '#a55', '#a57', '#a7e', '#a75', '#a2e', '#ead', '#ea7', '#ebe', '#eed', '#ef7', '#e1d', '#e57', '#e7e', '#e75', '#1de', '#1ed', '#1e5', '#101', '#155', '#157', '#175', '#122', '#0a5', '#0b0', '#0b5', '#0d5', '#0ed', '#0e5', '#099', '#095', '#00d', '#00f', '#007', '#05e', '#055', '#057', '#07e', '#075'];//both checked leet 
            */
            let colors = allColors.filter(w => w.length === 7);//initial norm colors
            let colorsShorthands = allColors;//shorthands checked norm colors
            let colorsLettersOnly = allColors.filter(w => regexNoNum.test(w) && w.length === 7);//letters only checked norm colors
            let colorsLettersAndShorthands = allColors.filter(w => regexNoNum.test(w));//both checked norm colors

            let leetColors = leetColorsWShort.filter(w => w.length === 7);//initial leet colors
            let leetColorsStartingH = leetColorsStartingHWShort.filter(w => w.length === 7);//h checked leed colors
            
            let box = document.querySelector(".demo");

            let btn = document.getElementById('btn');
            let clr = document.querySelector(".clr");
            let shd = document.querySelector(".shd");

            let radNorm = document.getElementById('rad-norm');//radio norm
            let radLeet = document.getElementById('rad-leet');//radio leet

            let chk = document.getElementById('norm-letters-only');//letters-only checkbox
            let chk1 = document.getElementById('norm-short');//shorthands checkbox
            let chk2 = document.getElementById('leet-h');//# as h checkbox
            
            document.getElementById('leet-h').disabled = true;//initial state
            document.getElementById("leet-h-label").style.color = "gray";//initial state

            radNorm.onclick = function() {
                if (this.checked) {
                    chk2.checked = false;
                    chk2.disabled = true;
                    document.getElementById("leet-h-label").style.color = "gray";
                    chk.disabled = false;
                    document.getElementById("letters-only-label").style.color = "black";
                }
            };
            radLeet.onclick = function() {
                if (this.checked) {
                    chk2.disabled = false;
                    document.getElementById("leet-h-label").style.color = "black";
                    chk.checked = false;
                    chk.disabled = true;
                    document.getElementById("letters-only-label").style.color = "gray";
                }
            };

            btn.addEventListener('click', ()=>{
                function changeColor (arr) {
                    i = getRandomColor(0, arr.length);
                    box.style.background = arr[i];
                    clr.innerHTML = arr[i];
                    if (radNorm.checked === true && arr[i].includes('0')) {
                        shd.innerHTML = "";
                        let allShades = showShades(arr[i]);
                        showSubtitle(allShades.length + " shades of " + arr[i] + ":" + "<br />");
                        let shades = document.createElement('div');
                        shades.className = 'shades';
                        shd.appendChild(shades);

                        function createDiv() {
                            let newDiv = document.createElement("div");
                            newDiv.className = "block";
                            return newDiv;
                        };
                            
                        let myDivs = [];
                        for (i = 0; i < allShades.length; i++) {
                            myDivs.push(createDiv());
                            shades.appendChild(myDivs[i]);
                            myDivs[i].innerHTML = allShades[i];
                            myDivs[i].style.background = allShades[i]; 
                        }
                    }
                    else if (radLeet.checked === true && chk2.checked === false) {
                        shd.innerHTML = "";
                        let decode = unLeet(arr[i]);
                        showSubtitle("Meaning: " + decode + "<br />" + "<br />");
                    }
                    else if (radLeet.checked === true && chk2.checked === true) {
                        shd.innerHTML = "";
                        let decode = unLeet(arr[i]);
                        showSubtitle("Meaning: " + "h" + decode + "<br />" + "<br />");
                    }
                    else {
                        shd.innerHTML = "";
                    }
                };
                    if (radNorm.checked === true && chk.checked === false && chk1.checked === true) {
                        changeColor(colorsShorthands);
                    }
                    else if (radNorm.checked === true && chk.checked === true && chk1.checked === false) {
                        changeColor(colorsLettersOnly);
                    }
                    else if (radNorm.checked === true && chk.checked === true && chk1.checked === true) {
                        changeColor(colorsLettersAndShorthands);
                    }
                    else if (radLeet.checked === true && chk1.checked === false && chk2.checked === false) {
                        changeColor(leetColors);
                    }
                    else if (radLeet.checked === true && chk1.checked === false && chk2.checked === true) {
                        changeColor(leetColorsStartingH);
                    }
                    else if (radLeet.checked === true && chk1.checked === true && chk2.checked === true) {
                        changeColor(leetColorsStartingHWShort);
                    }
                    else if (radLeet.checked === true && chk1.checked === true && chk2.checked === false) {
                        changeColor(leetColorsWShort);
                    }
                    else {
                        changeColor(colors);
                    }
            });
        </script>
    </body>
</html>
